% Use must pass options to xcolor like this (pure LaTeX)
%     \PassOptionsToPackage{natural,usenames,svgnames}{xcolor}
% or like this (org-mode export)
%     #+LATEX_CLASS_OPTIONS: [...,natural,usenames,svgnames]
\RequirePackage{listings}
\RequirePackage{xcolor}

%%
%% Yaml definition
%% (c) 2025 Michel Briand
%%
\lstdefinelanguage{Yaml}{
  morekeywords={True,False},
  sensitive=false,
  morecomment=[l]\#,
  morestring=[b]',
  morestring=[b]"
}

% style

\newcommand\YAMLcolonstyle{\color{red}\mdseries}
\newcommand\YAMLkeystyle{\color{black}\bfseries}
\newcommand\YAMLvaluestyle{\color{teal}\mdseries}

%%
%% Ansible definition
%% (c) 2025 Michel Briand
%%
\lstdefinelanguage{Ansible}{
  alsolanguage=Yaml,
  % backgroundcolor=\color{},
  commentstyle=\color{DarkGoldenrod},
  numberstyle=\tiny\color{teal},
  stringstyle=\color{orange},
  basicstyle=\ttfamily,
  breakatwhitespace=false,
  breaklines=true,
  captionpos=b,
  keepspaces=true,
  numbers=left,
  numbersep=5pt,
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  tabsize=2,
  % general
  morekeywords = {hosts,remote_user,tasks},
  keywordstyle=\color{magenta},
  % name
  morekeywords = [2]{name},
  keywordstyle = [2]\color{blue},
  % parameters
  morekeywords = [3]{state},
  keywordstyle = [3]\color{violet},
  % :
  moredelim=**[il][\YAMLcolonstyle{:}\YAMLvaluestyle]{:}
}


%%
%% Json definition
%% https://tex.stackexchange.com/a/433961/209542
%%
\definecolor{eclipseStrings}{RGB}{42,0.0,255}
\definecolor{eclipseKeywords}{RGB}{127,0,85}
\colorlet{numb}{magenta!60!black}

\lstdefinelanguage{json}{
    basicstyle=\ttfamily,
    commentstyle=\color{eclipseStrings}, % style of comment
    stringstyle=\color{eclipseKeywords}, % style of strings
    numbers=left,
    numberstyle=\scriptsize,
    stepnumber=1,
    numbersep=8pt,
    showstringspaces=false,
    breaklines=true,
    %frame=lines,                  %frame around listing
    %backgroundcolor=\color{gray},
    string=[s]{"}{"},
    comment=[l]{:\ "},
    morecomment=[l]{:"},
    literate=
        *{0}{{{\color{numb}0}}}{1}
         {1}{{{\color{numb}1}}}{1}
         {2}{{{\color{numb}2}}}{1}
         {3}{{{\color{numb}3}}}{1}
         {4}{{{\color{numb}4}}}{1}
         {5}{{{\color{numb}5}}}{1}
         {6}{{{\color{numb}6}}}{1}
         {7}{{{\color{numb}7}}}{1}
         {8}{{{\color{numb}8}}}{1}
         {9}{{{\color{numb}9}}}{1}
}

%%
%% Ini/conf definition
%% 
%%
\definecolor{maroon}{rgb}{0.5,0,0}
\definecolor{darkgreen}{rgb}{0,0.5,0}
\definecolor{darkbrown}{RGB}{139,69,19}
\definecolor{darkblue}{RGB}{25,25,112}
\definecolor{mediumgreen}{RGB}{25,125,25}

\lstdefinelanguage{conf}
{
  basicstyle=\ttfamily\footnotesize,
  morecomment=[l]{\#},
  morecomment=[l]{;},
  morecomment=[s][\color{darkblue}\bfseries]{[}{]},
  moredelim=[s][\color{darkbrown}]{=}{\ },
  commentstyle=\color{darkgreen},
  morestring=[s][\color{maroon}]{'}{'},
  morestring=[s][\color{maroon}]{"}{"},
  literate=*%
    {=}{{{\color{red}{=}}}}{1},%
  morekeywords=[1]{
    inventory,
    callbacks_enabled,
    stdout_callback
  },
  keywordstyle=\color{mediumgreen}
  %keywordstyle={\color{maroon}\bfseries}
}
